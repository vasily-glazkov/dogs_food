{"ast":null,"code":"const onResponce = res => {\n  return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n};\nclass Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this._headers = headers;\n    this._baseUrl = baseUrl;\n  }\n  getProductList() {\n    return fetch(`${this._baseUrl}/products`, {\n      headers: this._headers\n    }).then(onResponce);\n  }\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    }).then(onResponce);\n  }\n  setUserInfo(dataUser) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(dataUser)\n    }).then(onResponce);\n  }\n  search(searchQuery) {\n    return fetch(`${this._baseUrl}/products/search?query=${searchQuery}`, {\n      headers: this._headers\n    }).then(onResponce);\n  }\n  changeLikeProduct(productId, isLike) {\n    return fetch(`${this._baseUrl}/products/likes/${productId}`, {\n      method: isLike ? \"DELETE\" : \"PUT\",\n      headers: this._headers\n    }).then(onResponce);\n  }\n}\nconst config = {\n  baseUrl: 'https://api.react-learning.ru',\n  headers: {\n    'content-type': 'application/json',\n    Authorization: ''\n  }\n};\nconst api = new Api(config);\nexport default api;","map":{"version":3,"names":["onResponce","res","ok","json","Promise","reject","status","Api","constructor","baseUrl","headers","_headers","_baseUrl","getProductList","fetch","then","getUserInfo","setUserInfo","dataUser","method","body","JSON","stringify","search","searchQuery","changeLikeProduct","productId","isLike","config","Authorization","api"],"sources":["/home/hercule/Documents/Courses/sber_university/Prof_module/dogs_food/POST_CODE. Webinar 5. React/src/utils/api.js"],"sourcesContent":["const onResponce = (res) => {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n}\n\nclass Api {\n    constructor({ baseUrl, headers }) {\n        this._headers = headers;\n        this._baseUrl = baseUrl;\n    }\n\n    getProductList() {\n        return fetch(`${this._baseUrl}/products`, {\n            headers: this._headers\n        }).then(onResponce)\n    }\n\n    getUserInfo() {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: this._headers\n        }).then(onResponce)\n    }\n\n    setUserInfo(dataUser) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify(dataUser)\n        }).then(onResponce)\n    }\n\n    search(searchQuery) {\n        return fetch(`${this._baseUrl}/products/search?query=${searchQuery}`, {\n            headers: this._headers\n        }).then(onResponce)\n    }\n\n    changeLikeProduct(productId, isLike) {\n        return fetch(`${this._baseUrl}/products/likes/${productId}`, {\n            method: isLike ? \"DELETE\" : \"PUT\",\n            headers: this._headers\n        }).then(onResponce)\n    }\n}\n\nconst config = {\n    baseUrl: 'https://api.react-learning.ru',\n    headers: {\n        'content-type': 'application/json',\n        Authorization: ''\n    }\n}\n\nconst api = new Api(config);\n\nexport default api;"],"mappings":"AAAA,MAAMA,UAAU,GAAIC,GAAG,IAAK;EACxB,OAAOA,GAAG,CAACC,EAAE,GAAGD,GAAG,CAACE,IAAI,EAAE,GAAGC,OAAO,CAACC,MAAM,CAAE,WAAUJ,GAAG,CAACK,MAAO,EAAC,CAAC;AACxE,CAAC;AAED,MAAMC,GAAG,CAAC;EACNC,WAAW,OAAuB;IAAA,IAAtB;MAAEC,OAAO;MAAEC;IAAQ,CAAC;IAC5B,IAAI,CAACC,QAAQ,GAAGD,OAAO;IACvB,IAAI,CAACE,QAAQ,GAAGH,OAAO;EAC3B;EAEAI,cAAc,GAAG;IACb,OAAOC,KAAK,CAAE,GAAE,IAAI,CAACF,QAAS,WAAU,EAAE;MACtCF,OAAO,EAAE,IAAI,CAACC;IAClB,CAAC,CAAC,CAACI,IAAI,CAACf,UAAU,CAAC;EACvB;EAEAgB,WAAW,GAAG;IACV,OAAOF,KAAK,CAAE,GAAE,IAAI,CAACF,QAAS,WAAU,EAAE;MACtCF,OAAO,EAAE,IAAI,CAACC;IAClB,CAAC,CAAC,CAACI,IAAI,CAACf,UAAU,CAAC;EACvB;EAEAiB,WAAW,CAACC,QAAQ,EAAE;IAClB,OAAOJ,KAAK,CAAE,GAAE,IAAI,CAACF,QAAS,WAAU,EAAE;MACtCO,MAAM,EAAE,OAAO;MACfT,OAAO,EAAE,IAAI,CAACC,QAAQ;MACtBS,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ;IACjC,CAAC,CAAC,CAACH,IAAI,CAACf,UAAU,CAAC;EACvB;EAEAuB,MAAM,CAACC,WAAW,EAAE;IAChB,OAAOV,KAAK,CAAE,GAAE,IAAI,CAACF,QAAS,0BAAyBY,WAAY,EAAC,EAAE;MAClEd,OAAO,EAAE,IAAI,CAACC;IAClB,CAAC,CAAC,CAACI,IAAI,CAACf,UAAU,CAAC;EACvB;EAEAyB,iBAAiB,CAACC,SAAS,EAAEC,MAAM,EAAE;IACjC,OAAOb,KAAK,CAAE,GAAE,IAAI,CAACF,QAAS,mBAAkBc,SAAU,EAAC,EAAE;MACzDP,MAAM,EAAEQ,MAAM,GAAG,QAAQ,GAAG,KAAK;MACjCjB,OAAO,EAAE,IAAI,CAACC;IAClB,CAAC,CAAC,CAACI,IAAI,CAACf,UAAU,CAAC;EACvB;AACJ;AAEA,MAAM4B,MAAM,GAAG;EACXnB,OAAO,EAAE,+BAA+B;EACxCC,OAAO,EAAE;IACL,cAAc,EAAE,kBAAkB;IAClCmB,aAAa,EAAE;EACnB;AACJ,CAAC;AAED,MAAMC,GAAG,GAAG,IAAIvB,GAAG,CAACqB,MAAM,CAAC;AAE3B,eAAeE,GAAG"},"metadata":{},"sourceType":"module"}